{% extends "base.html" %}
{% block title %}Add Question - QuestGen{% endblock %}
{% block content %}

<!-- Hero Section -->
<section class="hero">
    <h1 class="display-4">Add Your Question</h1>
    <p>Contribute to the community by sharing your questions!</p>
</section>

<!-- Form Section -->
<div class="container my-5">
    <form action="/quest" method="POST" class="row g-3">
        <div class="col-md-6">
            <label for="standard" class="form-label">Standard:</label>
            <select class="form-select" name="standard" id="standard">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
            </select>
        </div>
        <div class="col-md-6">
            <label for="subject" class="form-label">Subject:</label>
            <select class="form-select" name="subject" id="subject"></select>
        </div>
        <div class="col-md-6">
            <label for="chapter" class="form-label">Chapter:</label>
            <input type="text" class="form-control" name="chapter" id="chapter">
        </div>
        <div class="col-md-6">
            <label for="topic" class="form-label">Topic:</label>
            <input type="text" class="form-control" name="topic" id="topic">
        </div>
        <div class="col-md-6">
            <label for="diff" class="form-label">Difficulty:</label>
            <select class="form-select" name="diff" id="diff">
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
            </select>
        </div>
        <div class="col-12">
            <label for="question" class="form-label">Question:</label>
            <input type="text" class="form-control" name="question" id="question">
        </div>
        <div class="col-12">
            <label for="answer" class="form-label">Answer:</label>
            <textarea class="form-control" name="answer" id="answer" rows="5"></textarea>
        </div>
        <div class="col-12 text-center">
            <button type="submit" class="btn btn-glow">Submit</button>
        </div>
    </form>
</div>
<script>
    const standardSelect = document.getElementById('standard');
    const subjectSelect = document.getElementById('subject');

    const subjects = {
        '1-5': ['English', 'Hindi', 'EVS', 'Maths', 'CS'],
        '6-10': ['English', 'Hindi', 'Maths', 'Science', 'Social Science', 'Sanskrit', 'CS'],
        '11-12': ['Physics', 'Chemistry', 'Maths', 'Biology', 'English', 'Hindi', 'Physical Education', 'CS']
    };

    standardSelect.addEventListener('change', function() {
        const standard = parseInt(this.value);
        let options = [];

        if (standard <= 5) {
            options = subjects['1-5'];
        } else if (standard <= 10) {
            options = subjects['6-10'];
        } else if (standard <= 12) {
            options = subjects['11-12'];
        }

        subjectSelect.innerHTML = '';
        options.forEach(subject => {
            const option = document.createElement('option');
            option.value = subject.toLowerCase();
            option.textContent = subject;
            subjectSelect.appendChild(option);
        });
    });
    // Trigger change event to set initial options
    standardSelect.dispatchEvent(new Event('change'));
</script>
{% endblock %}